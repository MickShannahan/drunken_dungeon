[gd_scene load_steps=15 format=4 uid="uid://balqyl3r1p3fx"]

[ext_resource type="PackedScene" uid="uid://ccagt5in31u65" path="res://scenes/ui/main_game_ui.tscn" id="1_kiw3p"]
[ext_resource type="PackedScene" uid="uid://cmha1jwu7rd55" path="res://scenes/Level.tscn" id="1_s0nni"]
[ext_resource type="Script" uid="uid://beolpfc45v6r3" path="res://scripts/turn_manager.gd" id="2_78awf"]
[ext_resource type="Script" uid="uid://blnqk1cgtgn33" path="res://scripts/floor_controller.gd" id="3_cpr0p"]
[ext_resource type="PackedScene" uid="uid://c4ut5cvrpoxki" path="res://scenes/Player.tscn" id="3_kiw3p"]
[ext_resource type="Script" uid="uid://5i0bx1rj5e2i" path="res://scripts/roll.gd" id="3_s0nni"]
[ext_resource type="Script" uid="uid://cnj0e4jctobpn" path="res://scripts/move.gd" id="4_aug50"]
[ext_resource type="PackedScene" uid="uid://bmxq38frpgfnq" path="res://scenes/enemy.tscn" id="7_400sg"]
[ext_resource type="PackedScene" uid="uid://cjgy1tlehictf" path="res://scenes/Player_Camera.tscn" id="8_g4kob"]
[ext_resource type="PackedScene" uid="uid://dw4e2u2pw7gx" path="res://scenes/door.tscn" id="8_qy1jj"]
[ext_resource type="PackedScene" uid="uid://daxeqnv5vuq70" path="res://scenes/door_key.tscn" id="9_3xj3m"]
[ext_resource type="PackedScene" uid="uid://cb7d57ae8742d" path="res://scenes/coin.tscn" id="10_mcffj"]
[ext_resource type="PackedScene" uid="uid://b82wmh8b6abpn" path="res://scenes/ground_spikes.tscn" id="11_2rd6h"]

[sub_resource type="GDScript" id="GDScript_s0nni"]
script/source = "extends Node2D


# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	pass # Replace with function body.

# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta: float) -> void:
	pass
"

[node name="Game" type="Node2D"]

[node name="MainGameUi" parent="." instance=ExtResource("1_kiw3p")]

[node name="FloorManager" type="Node" parent="."]
script = ExtResource("3_cpr0p")

[node name="TurnManager" type="Node" parent="." node_paths=PackedStringArray("initial_phase")]
script = ExtResource("2_78awf")
initial_phase = NodePath("Roll")

[node name="Roll" type="Node" parent="TurnManager"]
script = ExtResource("3_s0nni")

[node name="Move" type="Node" parent="TurnManager" node_paths=PackedStringArray("player")]
script = ExtResource("4_aug50")
player = NodePath("../../World/Player")

[node name="World" type="Node" parent="."]

[node name="Level" type="Node2D" parent="World" groups=["Level"]]

[node name="TileMapLayer" parent="World/Level" instance=ExtResource("1_s0nni")]
position = Vector2(-120, 72)
tile_map_data = PackedByteArray("AAD6//n/AAAKABEAAAD7//n/AAAKABEAAAD8//n/AAAKABEAAAD9//n/AAAKABEAAAD+//n/AAAKABEAAAD///n/AAAKABEAAAAAAPn/AAAKABEAAAABAPn/AAAKABEAAAACAPn/AAAKABEAAAADAPn/AAAKABEAAAAEAPn/AAAKABEAAAAFAPn/AAAKABEAAAAGAPn/AAAKABEAAAAHAPn/AAAKABEAAAAIAPn/AAAKABEAAAD5//n/AAAKABEAAAD5//r/AAAKABEAAAD5//v/AAAKABEAAAD5//z/AAAKABEAAAD5//3/AAAKABEAAAD5//7/AAAKABEAAAD5////AAAKABEAAAD5/wAAAAAKABEAAAD5/wEAAAAKABEAAAD5/wIAAAAKABEAAAD5/wMAAAAKABEAAAD5/wQAAAAKABEAAAD5/wUAAAAKABEAAAD6/wUAAAAKABEAAAD7/wUAAAAKABEAAAD8/wUAAAAKABEAAAD9/wUAAAAKABEAAAD+/wUAAAAKABEAAAD//wUAAAAKABEAAAAAAAUAAAAKABEAAAAIAAUAAAAKABEAAAAIAPr/AAAKABEAAAAIAPv/AAAKABEAAAAIAPz/AAAKABEAAAAJAPz/AAAKABEAAAAKAPz/AAAKABEAAAALAPz/AAAKABEAAAAIAP//AAAKABEAAAAJAP//AAAKABEAAAAJAAAAAAAKABEAAAAJAAEAAAAKABEAAAAJAAIAAAAKABEAAAAJAAMAAAAKABEAAAAJAAQAAAAKABEAAAAJAAUAAAAKABEAAAALAPv/AAAKABEAAAALAPr/AAAKABEAAAAQAPr/AAAKABEAAAAMAPr/AAAKABEAAAANAPr/AAAKABEAAAAOAPr/AAAKABEAAAAPAPr/AAAKABEAAAARAPr/AAAKABEAAAARAPv/AAAKABEAAAARAPz/AAAKABEAAAARAP3/AAAKABEAAAARAP7/AAAKABEAAAARAP//AAAKABEAAAARAAAAAAAKABEAAAARAAEAAAAKABEAAAARAAIAAAAKABEAAAAKAAIAAAAKABEAAAALAAIAAAAKABEAAAAOAAIAAAAKABEAAAAPAAIAAAAKABEAAAAQAAIAAAAKABEAAAALAAMAAAAKABEAAAALAAQAAAAKABEAAAAOAAMAAAAKABEAAAAOAAQAAAAKABEAAAAKAAUAAAAKABEAAAAOAAUAAAAKABEAAAAPAAUAAAAKABEAAAAQAAUAAAAKABEAAAARAAUAAAAKABEAAAASAAUAAAAKABEAAAAIAAYAAAAKABEAAAAIAAcAAAAKABEAAAAIAAgAAAAKABEAAAAIAAkAAAAKABEAAAAIAAoAAAAKABEAAAATAAoAAAAKABEAAAATAAkAAAAKABEAAAATAAYAAAAKABEAAAATAAUAAAAKABEAAAATAAcAAAAKABEAAAATAAgAAAAKABEAAAATAAsAAAAKABEAAAASAAsAAAAKABEAAAARAAsAAAAKABEAAAAQAAsAAAAKABEAAAAPAAsAAAAKABEAAAAOAAsAAAAKABEAAAANAAsAAAAKABEAAAAMAAsAAAAKABEAAAALAAsAAAAKABEAAAAKAAsAAAAKABEAAAAJAAsAAAAKABEAAAAIAAsAAAAKABEAAAALAAgAAAAKABEAAAAQAAgAAAAKABEAAAD6/wIAAAAKABEAAAD7/wIAAAAKABEAAAD8/wIAAAAKABEAAAAAAAYAAAAKABEAAAAAAAcAAAAKABEAAAAAAAgAAAAKABEAAAAAAAkAAAAKABEAAAAAAAoAAAAKABEAAAAAAA8AAAAKABEAAAAAABAAAAAKABEAAAAAABEAAAAKABEAAAAKAAwAAAAKABEAAAAKAA0AAAAKABEAAAAKAA4AAAAKABEAAAAKAA8AAAAKABEAAAAKABAAAAAKABEAAAAKABEAAAAKABEAAAAKABIAAAAKABEAAAAJABIAAAAKABEAAAAIABIAAAAKABEAAAAHABIAAAAKABEAAAAGABIAAAAKABEAAAAFABIAAAAKABEAAAAEABIAAAAKABEAAAADABIAAAAKABEAAAACABIAAAAKABEAAAABABIAAAAKABEAAAAAABIAAAAKABEAAAD//wkAAAAKABEAAAD+/wkAAAAKABEAAAD9/wkAAAAKABEAAAD8/wkAAAAKABEAAAD7/wkAAAAKABEAAAD6/wkAAAAKABEAAAD6/xAAAAAKABEAAAD7/xAAAAAKABEAAAD8/xAAAAAKABEAAAD9/xAAAAAKABEAAAD+/xAAAAAKABEAAAD//xAAAAAKABEAAAAAAAsAAAAKABEAAAAAAA4AAAAKABEAAAD5/wkAAAAKABEAAAD5/woAAAAKABEAAAD5/wsAAAAKABEAAAD5/wwAAAAKABEAAAD5/w0AAAAKABEAAAD5/w4AAAAKABEAAAD5/w8AAAAKABEAAAD5/xAAAAAKABEAAAA=")

[node name="Entities" type="Node2D" parent="World/Level"]

[node name="Enemy" parent="World/Level/Entities" instance=ExtResource("7_400sg")]
position = Vector2(-176, -16)

[node name="Enemy2" parent="World/Level/Entities" instance=ExtResource("7_400sg")]
position = Vector2(-112, 48)

[node name="Enemy3" parent="World/Level/Entities" instance=ExtResource("7_400sg")]
position = Vector2(-176, 32)

[node name="Enemy4" parent="World/Level/Entities" instance=ExtResource("7_400sg")]
position = Vector2(-128, 0)

[node name="Door" parent="World/Level/Entities" instance=ExtResource("8_qy1jj")]
position = Vector2(16, 32)

[node name="Key" parent="World/Level/Entities" node_paths=PackedStringArray("door_to_unlock") instance=ExtResource("9_3xj3m")]
position = Vector2(-144, 16)
door_to_unlock = NodePath("../Door")
entity_name = "test_key"

[node name="Coin" parent="World/Level/Entities" instance=ExtResource("10_mcffj")]
position = Vector2(-96, 48)

[node name="GroundSpikes" parent="World/Level/Entities" instance=ExtResource("11_2rd6h")]

[node name="Camera2D" parent="World" instance=ExtResource("8_g4kob")]
position = Vector2(48, 116)

[node name="PlayerController" type="Node2D" parent="World"]
position = Vector2(-80, 56)
script = SubResource("GDScript_s0nni")

[node name="Player" parent="World" instance=ExtResource("3_kiw3p")]
position = Vector2(-208, -16)
